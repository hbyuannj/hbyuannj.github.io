<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A国与B国居民判断问题</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#10B981',
                        accent: '#F59E0B',
                        neutral: '#6B7280',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .animation-delay-1000 {
                animation-delay: 1s;
            }
            .animation-delay-2000 {
                animation-delay: 2s;
            }
            .animation-delay-3000 {
                animation-delay: 3s;
            }
        }
    </style>
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        .animate-fade-in {
            animation: fadeIn 0.6s ease-out forwards;
        }
        .animate-pulse-slow {
            animation: pulse 2s infinite;
        }
        .step-item {
            opacity: 0;
            transform: translateY(10px);
        }
        .step-item.active {
            animation: fadeIn 0.6s ease-out forwards;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans text-gray-800">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- 标题区域 -->
        <header class="text-center mb-10 animate-fade-in">
            <h1 class="text-[clamp(1.8rem,4vw,2.5rem)] font-bold text-primary mb-4">A国与B国居民判断问题</h1>
            <div class="w-24 h-1 bg-accent mx-auto rounded-full"></div>
        </header>

        <!-- 题干区域 -->
        <section class="bg-white rounded-xl shadow-md p-6 mb-8 animate-fade-in animation-delay-1000">
            <h2 class="text-xl font-semibold mb-4 flex items-center">
                <i class="fa fa-book text-primary mr-2"></i>题干
            </h2>
            <p class="text-gray-700 leading-relaxed">
                古代有A、B两个相邻的国家，A国居民都是诚实的人，B国居民都是骗子。当你问一个问题时，A国居民会告诉你正确的答案，而B国居民给你的答案都是错误的。一天，一个智者独自登上了两国中的某个国家。他分辨不清这个国家是A国还是B国，只知道这个国家的人既有本国的居民又有别国的来客。他想问这里的人"这是A国还是B国"，却又无法判断被问者的答案是否正确。智者想出一个办法，他只需要问任意一个人一句话，就能从对方的回答中准确无误地断定这里是哪个国家。
            </p>
            <div class="mt-4 p-4 bg-blue-50 rounded-lg border-l-4 border-primary">
                <p class="font-medium">智者提出的问题是：<span class="text-primary font-bold">"你是本国居民吗？"</span></p>
            </div>
        </section>

        <!-- 解题思路 -->
        <section class="bg-white rounded-xl shadow-md p-6 mb-8 animate-fade-in animation-delay-2000">
            <h2 class="text-xl font-semibold mb-4 flex items-center">
                <i class="fa fa-lightbulb-o text-accent mr-2"></i>解题思路
            </h2>
            <p class="text-gray-700 mb-4">
                核心逻辑：通过"你是本国居民吗？"这一问题，利用A国居民诚实、B国居民说谎的特性，无论被问者是本国居民还是外国来客，在同一国家会给出相同答案，从而判断所在国家。
            </p>
            <div class="grid md:grid-cols-2 gap-4">
                <div class="p-4 bg-green-50 rounded-lg border border-green-200">
                    <p class="font-medium text-secondary">若在A国：</p>
                    <p>无论是A国居民（诚实）还是B国来客（说谎），都会回答"是"</p>
                </div>
                <div class="p-4 bg-red-50 rounded-lg border border-red-200">
                    <p class="font-medium text-red-600">若在B国：</p>
                    <p>无论是B国居民（说谎）还是A国来客（诚实），都会回答"不是"</p>
                </div>
            </div>
        </section>

        <!-- 动画演示区域 -->
        <section class="bg-white rounded-xl shadow-md p-6 mb-8 animate-fade-in animation-delay-3000">
            <h2 class="text-xl font-semibold mb-6 flex items-center">
                <i class="fa fa-play-circle text-primary mr-2"></i>推理过程演示
            </h2>
            
            <!-- 国家选择器 -->
            <div class="mb-8 text-center">
                <p class="mb-3 font-medium">选择当前所在国家：</p>
                <div class="flex justify-center gap-4">
                    <button id="selectA" class="px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-all active">A国</button>
                    <button id="selectB" class="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-all">B国</button>
                </div>
            </div>
            
            <!-- 演示区域 -->
            <div id="demoArea" class="relative min-h-[500px]">
                <!-- 场景背景 -->
                <div id="countryScene" class="absolute inset-0 rounded-lg bg-blue-50 border border-blue-100 overflow-hidden">
                    <div class="absolute top-4 left-4 text-2xl font-bold text-primary">当前场景：A国</div>
                    
                    <!-- 智者形象 -->
                    <div class="absolute top-16 left-8 w-16 h-16 bg-accent rounded-full flex items-center justify-center text-white text-2xl animate-pulse-slow">
                        <i class="fa fa-user"></i>
                    </div>
                    <div class="absolute top-36 left-4 text-center w-24">智者</div>
                    
                    <!-- 对话气泡 -->
                    <div class="absolute top-16 left-32 bg-white p-3 rounded-lg shadow-md max-w-[200px] border-l-4 border-accent">
                        <p class="text-sm">我想问你：<span class="font-semibold">"你是本国居民吗？"</span></p>
                    </div>
                    
                    <!-- 居民形象 - A国居民 -->
                    <div class="absolute top-16 right-40 w-16 h-16 bg-secondary rounded-full flex items-center justify-center text-white text-2xl">
                        <i class="fa fa-smile-o"></i>
                    </div>
                    <div class="absolute top-36 right-36 text-center w-24">A国居民</div>
                    <!-- 回答消息更靠右（进一步右移） -->
                    <div class="absolute top-16 left-[calc(100%-120px)] bg-white p-3 rounded-lg shadow-md max-w-[100px] border-l-4 border-secondary step-item" id="aAnswer">
                        <p class="text-sm">是</p>
                    </div>
                    
                    <!-- 居民形象 - B国居民 -->
                    <div class="absolute top-64 right-40 w-16 h-16 bg-red-500 rounded-full flex items-center justify-center text-white text-2xl">
                        <i class="fa fa-frown-o"></i>
                    </div>
                    <div class="absolute top-84 right-36 text-center w-24">B国居民</div>
                    <!-- 回答消息更靠右（进一步右移） -->
                    <div class="absolute top-64 left-[calc(100%-120px)] bg-white p-3 rounded-lg shadow-md max-w-[100px] border-l-4 border-red-500 step-item" id="bAnswer">
                        <p class="text-sm">是</p>
                    </div>
                    
                    <!-- 结论区域大幅下移（远超6行） -->
                    <div class="absolute top-96 left-4 bg-primary/10 p-4 rounded-lg border border-primary/30 w-[60%] max-w-md step-item" id="conclusion">
                        <p class="text-center font-medium">结论：因为两人都回答"是"，所以这里是A国</p>
                    </div>
                </div>
            </div>
            
            <!-- 步骤控制 -->
            <div class="mt-6 text-center">
                <button id="startDemo" class="px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-all flex items-center mx-auto">
                    <i class="fa fa-play mr-2"></i>开始演示推理过程
                </button>
            </div>
        </section>

        <!-- 规律总结 -->
        <section class="bg-white rounded-xl shadow-md p-6 animate-fade-in animation-delay-3000">
            <h2 class="text-xl font-semibold mb-4 flex items-center">
                <i class="fa fa-list-alt text-primary mr-2"></i>规律总结
            </h2>
            <div class="space-y-3 text-gray-700">
                <div class="flex items-start">
                    <div class="bg-primary/10 rounded-full p-1 mr-3 mt-0.5">
                        <i class="fa fa-check text-primary text-sm"></i>
                    </div>
                    <p>问题"你是本国居民吗？"的巧妙之处在于：无论被问者是哪国居民，在同一国家会给出一致性回答</p>
                </div>
                <div class="flex items-start">
                    <div class="bg-primary/10 rounded-full p-1 mr-3 mt-0.5">
                        <i class="fa fa-check text-primary text-sm"></i>
                    </div>
                    <p>在A国时，双重肯定机制导致回答均为"是"：A国居民诚实承认是本国居民，B国来客说谎称自己是本国居民</p>
                </div>
                <div class="flex items-start">
                    <div class="bg-primary/10 rounded-full p-1 mr-3 mt-0.5">
                        <i class="fa fa-check text-primary text-sm"></i>
                    </div>
                    <p>在B国时，双重否定机制导致回答均为"不是"：B国居民说谎否认是本国居民，A国来客诚实承认不是本国居民</p>
                </div>
                <div class="flex items-start">
                    <div class="bg-primary/10 rounded-full p-1 mr-3 mt-0.5">
                        <i class="fa fa-check text-primary text-sm"></i>
                    </div>
                    <p>通过这种"身份-诚实度"的逻辑绑定，将复杂的双重变量问题简化为单一判断标准</p>
                </div>
            </div>
        </section>

        <!-- 页脚 -->
        <footer class="mt-12 text-center text-gray-500 text-sm">
            <p>逻辑推理演示程序 | 基于"你是本国居民吗？"问题设计</p>
        </footer>
    </div>

    <script>
        // 状态变量
        let currentCountry = 'A'; // 默认A国
        let isAnimating = false;
        
        // DOM元素
        const selectA = document.getElementById('selectA');
        const selectB = document.getElementById('selectB');
        const startDemo = document.getElementById('startDemo');
        const countryScene = document.getElementById('countryScene');
        const aAnswer = document.getElementById('aAnswer');
        const bAnswer = document.getElementById('bAnswer');
        const conclusion = document.getElementById('conclusion');
        const countryTitle = countryScene.querySelector('div:first-child');
        
        // 国家选择事件
        selectA.addEventListener('click', () => {
            if (isAnimating) return;
            currentCountry = 'A';
            updateCountryDisplay();
            resetAnimation();
            selectA.classList.add('bg-primary', 'text-white');
            selectA.classList.remove('bg-gray-200', 'text-gray-700');
            selectB.classList.add('bg-gray-200', 'text-gray-700');
            selectB.classList.remove('bg-primary', 'text-white');
        });
        
        selectB.addEventListener('click', () => {
            if (isAnimating) return;
            currentCountry = 'B';
            updateCountryDisplay();
            resetAnimation();
            selectB.classList.add('bg-primary', 'text-white');
            selectB.classList.remove('bg-gray-200', 'text-gray-700');
            selectA.classList.add('bg-gray-200', 'text-gray-700');
            selectA.classList.remove('bg-primary', 'text-white');
        });
        
        // 开始演示按钮事件
        startDemo.addEventListener('click', () => {
            if (isAnimating) return;
            startAnimation();
        });
        
        // 更新国家显示
        function updateCountryDisplay() {
            countryTitle.textContent = `当前场景：${currentCountry}国`;
            countryTitle.className = `absolute top-4 left-4 text-2xl font-bold ${currentCountry === 'A' ? 'text-primary' : 'text-red-600'}`;
            
            // 更新回答内容
            if (currentCountry === 'A') {
                aAnswer.innerHTML = '<p class="text-sm">是</p>';
                bAnswer.innerHTML = '<p class="text-sm">是</p>';
                conclusion.innerHTML = '<p class="text-center font-medium">结论：因为两人都回答"是"，所以这里是A国</p>';
            } else {
                aAnswer.innerHTML = '<p class="text-sm">不是</p>';
                bAnswer.innerHTML = '<p class="text-sm">不是</p>';
                conclusion.innerHTML = '<p class="text-center font-medium">结论：因为两人都回答"不是"，所以这里是B国</p>';
            }
        }
        
        // 重置动画
        function resetAnimation() {
            aAnswer.classList.remove('active');
            bAnswer.classList.remove('active');
            conclusion.classList.remove('active');
            startDemo.innerHTML = '<i class="fa fa-play mr-2"></i>开始演示推理过程';
        }
        
        // 开始动画
        function startAnimation() {
            isAnimating = true;
            startDemo.innerHTML = '<i class="fa fa-spinner fa-spin mr-2"></i>演示中...';
            
            // 分步显示动画
            setTimeout(() => {
                aAnswer.classList.add('active');
            }, 500);
            
            setTimeout(() => {
                bAnswer.classList.add('active');
            }, 1500);
            
            setTimeout(() => {
                conclusion.classList.add('active');
                startDemo.innerHTML = '<i class="fa fa-repeat mr-2"></i>重新演示';
                isAnimating = false;
            }, 2500);
        }
        
        // 初始化
        updateCountryDisplay();
    </script>
</body>
</html>
